<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <title>Timer Game</title>
    <style >
      .dark-mode {
        background-color: black;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="container col-12 col-sm-4 shadow-lg p-3 mb-5 rounded text-center" style='margin-top:200px' >
      
      <h3 class="target">Try to stop the timer at 10:00</h3>
      <h1 class="app display-1" style='margin-top:25px;margin-bottom:25px'>00:00<h1>
      <button class="start btn btn-success col-12 col-sm-4 text-center"  onclick="startTimer(this)">Start</button>
      <button class="reset btn btn-primary col-12 col-sm-4 text-center"  disabled="true">Reset</button>
      <button class="dark btn" onclick="toggleDarkTheme()">‚òÄÔ∏è</button>
    </div>
    <script>
      var sec = 0;
      var microSec = 0;
      var sun = "‚òÄÔ∏è"
      var moon = "üåô"
      var element = document.querySelector(".app");
      function startTimer(tag) {
        if (tag.start) {
          clearInterval(tag.start);
          tag.start = false;
          tag.removeAttribute("onclick");
          tag.disabled=true
          document
            .querySelector(".reset")
            .setAttribute("onclick", "resetTimer(this)");
            document
          .querySelector(".reset").disabled=false
        } else {
          tag.start = setInterval(executeTimer, 20);
          tag.innerHTML = "Stop";
          tag.classList.remove("btn-success")
          tag.classList.add("btn-danger")
          
        }
      }
      function resetTimer(tag) {
        element.innerText = "00:00";
        sec = 0;
        microSec = 0;
        var randomsecsTarget = Math.floor(Math.random() * 20 + 1);
        var randommicroSecTarget = Math.floor(Math.random() * 59 + 1);
        document.querySelector(".target").innerText = `try to stop timer at ${
          randomsecsTarget > 9 ? randomsecsTarget : "0" + randomsecsTarget
        }:${randommicroSecTarget > 9 ? randommicroSecTarget : "0" + randommicroSecTarget}`;
        tag.removeAttribute("onclick");
        tag.disabled=true
        document
          .querySelector(".start")
          .setAttribute("onclick", "startTimer(this)");
          document
          .querySelector(".start").innerText = "Start"
          document
          .querySelector(".start").classList.remove("btn-danger")
          document
          .querySelector(".start").classList.add("btn-success")
          document
          .querySelector(".start").disabled=false
          
      }
      function executeTimer() {
        if (sec < 20) {
          microSec++;
          if (microSec == 60) {
            sec++;
            microSec = 0;
          }
        }
        var text;
        if (sec < 10 && microSec < 10) {
          text = `0${sec}:0${microSec}`;
        } else if (sec < 10) {
          text = `0${sec}:${microSec}`;
        } else if (microSec < 10) {
          text = `${sec}:0${microSec}`;
        } else {
          text = `${sec}:${microSec}`;
        }
        element.innerText = text;
      }
      function toggleDarkTheme() {
        var element = document.body;
        element.classList.toggle('dark-mode');
        var button = document.querySelector(".dark")
        button.innerText = button.innerText==sun ? moon : sun 
      }
    </script>
  </body>
</html>
<!-- Author : Lochan Melam -->